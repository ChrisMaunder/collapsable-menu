(function(n,t){"use strict";var i=function(){var i=t(".collapse-menu"),o=i.width(),r=i.attr("data-promoted-class"),f=0,n=t(".collapse-overflow");n.length===0?(n=t('<div class="collapse-overflow"><div class="menu-item menu-anchor">...<\/div><div class="collapse-overflow-menu"><\/div><\/div>'),i.append(n)):n.find("div.menu-item").each(function(){t(this).hasClass("menu-anchor")||t(this).appendTo(i)});var e=n.find(".menu-anchor"),c=e.outerWidth(!0),l=n.find(".collapse-overflow-menu"),u=!1,s=i.find(".menu-item"),h=0;r&&e.removeClass(r);s.each(function(n){var i=t(this),a;(n==0&&(h=i.position().top),i.hasClass("menu-anchor"))||(u||(i.position().top>h?u=!0:(a=parseFloat(i.outerWidth(!0)),f+=a,f=parseFloat(i.position().left)+parseFloat(i.outerWidth(!0)),f>(n<s.length-1?o-c:o)&&(u=!0,f-=a))),u&&(i.appendTo(l),r&&i.hasClass(r)&&e.addClass(r)))});u?n.appendTo(i):n.remove()},r=function(){var n=t(".collapse-menu"),r=n.children(".menu-item");r.each(function(){t(this).appendTo(n)});i()},u=function(){var n={};return function(t,i,r){r||(r="Ensure you have a unique ID if you're calling this more than once");n[r]&&clearTimeout(n[r]);n[r]=setTimeout(t,i)}}();t(n).resize(function(){i();u(function(){i()},200,"finished resizing")});t(document).ready(function(){r()})})(window,jQuery);